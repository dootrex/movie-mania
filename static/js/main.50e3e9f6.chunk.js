(this["webpackJsonpmovie-mainia"]=this["webpackJsonpmovie-mainia"]||[]).push([[0],{72:function(e,t,c){},73:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(33),i=c.n(s),r=c(3),o=c(2),j=c(0);var l=function(){return Object(j.jsx)("nav",{className:"nav-main",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(r.c,{to:"/",exact:!0,children:"Home"})}),Object(j.jsx)("li",{children:Object(j.jsx)(r.c,{to:"/about",children:"About"})}),Object(j.jsx)("li",{children:Object(j.jsx)(r.c,{to:"/favs",children:"Favs"})})]})})};var b=function(){return Object(j.jsxs)("header",{className:"pt-3 mt-0",children:[Object(j.jsx)("h1",{children:Object(j.jsx)(r.b,{to:"/",children:"Movie Mania"})}),Object(j.jsx)(l,{})]})};var u=function(){return Object(j.jsx)("footer",{children:Object(j.jsx)("p",{children:"\xa9 2021 Avi, Adrian and Ross"})})},d=c(5),h=c.n(d),O=c(12),p=c(10);var x=function(){return Object(j.jsx)("nav",{className:"nav-sort",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(r.c,{to:"/sort/popular",children:"Popular"})}),Object(j.jsx)("li",{children:Object(j.jsx)(r.c,{to:"/sort/top-rated",children:"Top Rated"})}),Object(j.jsx)("li",{children:Object(j.jsx)(r.c,{to:"/sort/now-playing",children:"Now Playing"})}),Object(j.jsx)("li",{children:Object(j.jsx)(r.c,{to:"/sort/upcoming",children:"Upcoming"})})]})})},v=c.p+"static/media/no-movie-poster.dc594cc6.jpg",m=c(18);var f=function(e){var t=e.movie,c=Object(n.useState)(!1),a=Object(p.a)(c,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){(function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem("".concat(null===t||void 0===t?void 0:t.id))?i(!0):i(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(j.jsxs)("div",{className:"movie-card",children:[Object(j.jsx)(r.b,{to:"/movie/".concat(t.id),children:Object(j.jsx)("div",{className:"movie-poster",children:null===t.poster_path?Object(j.jsx)("img",{src:v,alt:"No poster available."}):Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"Godzilla vs Kong"})})}),Object(j.jsxs)("div",{className:"movie-info d-flex flex-row justify-content-between",children:[Object(j.jsx)("div",{children:Object(j.jsx)(m.a,{isActive:s,onClick:function(){i(!s),s?localStorage.removeItem("".concat(t.id)):localStorage.setItem("".concat(t.id),JSON.stringify(t)),window.location.reload()},style:{width:"35px"}})}),Object(j.jsx)("div",{children:Object(j.jsx)(r.b,{to:"/movie/".concat(t.id),children:Object(j.jsx)("h3",{children:t.title})})})]}),Object(j.jsx)("h4",{children:t.tagline}),Object(j.jsxs)("p",{children:["Realease Date: ",t.release_date]}),Object(j.jsxs)("p",{children:["Movie Rating: ",t.vote_average]})]})};var g=function(e){var t=e.moviesData;return Object(j.jsx)("div",{className:"movies-container",children:t.map((function(e){return Object(j.jsx)(f,{movie:e},e.id)}))})};function y(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),c=t[0],a=t[1],s=Object(o.f)();return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=c.replace(" ","+");t="/search/:"+t,s.push(t)},className:"input-group p-4",children:[Object(j.jsx)("input",{type:"text",name:"search",id:"search",onChange:function(e){a(e.target.value)},className:"form-control",placeholder:"Search for a Movie..."}),Object(j.jsx)("button",{type:"submit",className:"btn btn-outline-secondary btn-primary text-dark",children:Object(j.jsx)("h4",{children:"Search"})})]})})}var N="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0NjdhZTVmZjRhMmFkMmE1MzJiODE5YTA4MGZiMGU1MiIsInN1YiI6IjVkZDQ0MDZjMjYzNDYyMDAxMmI2MTg4YSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.EWiHqCznyW1scdahCqeDYIW0OvC25DgJab8GXnNOZTU";var w=function(e){var t=e.sort,c=Object(n.useState)(null),a=Object(p.a)(c,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){(function(){var e=Object(O.a)(h.a.mark((function e(){var c,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?language=en-US&page=1"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+N}});case 2:return c=e.sent,e.next=5,c.json();case 5:n=e.sent,a=n.results.splice(0,12),i(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(j.jsxs)("section",{className:"home-page",children:[Object(j.jsx)(y,{}),Object(j.jsx)(x,{}),null!==s&&Object(j.jsx)(g,{moviesData:s})]})},S=c.p+"static/media/tmdb.bb8aa703.svg";var M=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("section",{className:"about-page",children:[Object(j.jsx)("h1",{children:"About Movie Mania"}),Object(j.jsx)("p",{children:"Our mission is to provide users with a mass collection of movie data."}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:"We believe that everyone deserves to gain access to precise information and reviews on that one movie they are interested in."}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:"This product uses the TMDb API but is not endorsed or certified by TMDb."}),Object(j.jsx)("img",{src:S,alt:"tmbd logo",width:"8%"})]})})},I=c(38),k=c(39),D=c(42),J=c(41),A=function(e){Object(D.a)(c,e);var t=Object(J.a)(c);function c(){var e;return Object(I.a)(this,c),(e=t.call(this)).fetchMovies=function(){var t=Object.keys(localStorage),c=[];t.forEach((function(e){c.push(JSON.parse(localStorage.getItem(e)))})),e.setState({movies:c})},e.state={movies:null},e}return Object(k.a)(c,[{key:"componentDidMount",value:function(){this.fetchMovies()}},{key:"render",value:function(){return Object(j.jsxs)("section",{className:"favs-page",children:[Object(j.jsx)(y,{}),null!==this.state.movies&&this.state.movies.length>0?Object(j.jsx)(g,{moviesData:this.state.movies}):Object(j.jsx)("h3",{className:"p-4",children:"Sorry you have no favourited movies. Return to the home page to add a favourite movie\u201d"})]})}}]),c}(n.Component),C=c(40),_=c.n(C);function E(){var e=Object(o.g)().term,t=Object(n.useState)(null),c=Object(p.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){(function(){var t=Object(O.a)(h.a.mark((function t(){var c,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,_.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("467ae5ff4a2ad2a532b819a080fb0e52","&language=en-US&query=").concat(e,"&page=1&include_adult=false"));case 3:c=t.sent,n=c.data.results.splice(0,12),s(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(j.jsx)("div",{children:Object(j.jsxs)("section",{className:"home-page",children:[Object(j.jsx)(y,{}),null!==a&&a.length>0?Object(j.jsx)(g,{moviesData:a}):Object(j.jsx)("h3",{className:"p-5",children:"Your search returned no results."})]})})}function T(e){var t=e.movie,c=Object(n.useState)(!1),a=Object(p.a)(c,2),s=a[0],i=a[1];Object(n.useEffect)((function(){(function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem("".concat(null===t||void 0===t?void 0:t.id))?i(!0):i(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);return Object(j.jsx)(j.Fragment,{children:t?Object(j.jsxs)("div",{className:"p-3",children:[Object(j.jsx)("div",{className:"movie-poster",children:null===t.poster_path?Object(j.jsx)("img",{src:v,alt:"No poster available."}):Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:t.title})}),Object(j.jsxs)("div",{className:"d-flex movie-info flex-column",children:[Object(j.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:t.title}),Object(j.jsx)("h4",{children:t.tagline})]}),Object(j.jsx)("div",{className:"ml-auto",children:Object(j.jsx)(m.a,{isActive:s,onClick:function(){console.log(t),i(!s),s?localStorage.removeItem("".concat(t.id)):localStorage.setItem("".concat(t.id),JSON.stringify(t))},style:{width:"35px"}})})]}),Object(j.jsxs)("p",{children:["Revenue: ",t.revenue]}),Object(j.jsxs)("p",{children:["Rating: ",t.vote_average]}),Object(j.jsxs)("p",{children:["Runtime: ",t.runtime]}),Object(j.jsx)("p",{children:t.overview})]})]}):Object(j.jsx)("h1",{children:"waiting"})})}function R(){var e=Object(o.g)().id,t=Object(n.useState)(null),c=Object(p.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){(function(){var t=Object(O.a)(h.a.mark((function t(){var c,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(e,"?language=en-US"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+N}});case 2:return c=t.sent,t.next=5,c.json();case 5:n=t.sent,s(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(T,{movie:a})})}c(71);var z=function(){return Object(j.jsx)(r.a,{basename:"movie-mania",children:Object(j.jsxs)("div",{className:"wrapper ",children:[Object(j.jsx)(b,{}),Object(j.jsx)("main",{children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/",exact:!0,children:Object(j.jsx)(w,{sort:"popular"})}),Object(j.jsx)(o.a,{path:"/sort/popular",children:Object(j.jsx)(w,{sort:"popular"})}),Object(j.jsx)(o.a,{path:"/sort/top-rated",children:Object(j.jsx)(w,{sort:"top_rated"})}),Object(j.jsx)(o.a,{path:"/sort/now-playing",children:Object(j.jsx)(w,{sort:"now_playing"})}),Object(j.jsx)(o.a,{path:"/sort/upcoming",children:Object(j.jsx)(w,{sort:"upcoming"})}),Object(j.jsx)(o.a,{path:"/about",children:Object(j.jsx)(M,{})}),Object(j.jsx)(o.a,{path:"/favs",children:Object(j.jsx)(A,{})}),Object(j.jsx)(o.a,{path:"/movie/:id",children:Object(j.jsx)(R,{})}),Object(j.jsx)(o.a,{path:"/search/:term",children:Object(j.jsx)(E,{})})]})}),Object(j.jsx)(u,{})]})})};c(72);i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(z,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.50e3e9f6.chunk.js.map